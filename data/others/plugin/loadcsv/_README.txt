========== ========== ========== ==========
     CSV読み込みプラグイン
========== ========== ========== ==========

【最終更新日】2020/04/17
【  名  称  】CSV読み込みプラグイン
【  種  別  】ティラノスクリプト用の外部プラグイン
【 製 作 者 】小鳥遊銀（たかなし ぎん）
【 開発環境 】64bit版Windows10, ティラノスクリプトv501a, ティラノスタジオv100
【 動作環境 】上記開発環境にて確認
【 連 絡 先 】Twitterまでどうぞ（@diyin_near_j）
【ライセンス】MIT

---------- ----------



◇ 概要 ◇

CSVファイルのデータを二次元配列に変換するプラグインです。
表計算ソフトから出力したCSVファイルのtrue/falseは大文字のTRUE/FALSEになってしまうので、自動で小文字のブール型に変換できるようになっています。
また文字列型の数値を数値型の数値に変換できるようにもなっています。

このプラグインを導入すると、
・[loadcsv]
・[loadcsv_xmlhttp]（非推奨）
の2つのタグを使えるようになります。



◇ ファイル構成 ◇

for
 ├ system.js
 ├ function.js
 ├ init.ks
 ├ _SAMPLE.ks
 └ _README.txt



◇ 導入方法 ◇

解凍して出てきた「key_event」フォルダを、
「data/others/plugin/」下にコピーしてください。
その後、first.ksに以下のタグを記述してください。

    [plugin name='loadcsv']



◇ pluginタグに指定できるパラメータ ◇

-



◇ タグリファレンス ◇

◆ [loadcsv] 独自キーイベント登録

    || 概要

    CSVファイルを読み込み二次元配列に変換します。

    || 指定できるパラメータ

    src  読み込むCSVファイル名を指定してください。CSVファイルはothersファイル以下に配置してください。

    var  読み込んだデータ（二次元配列）を格納するティラノ変数を指定することが出来ます。デフォルトでは"tf.loaded_csv"に格納されます。

    parse_float  trueを指定すると文字列型の数値を数値型に変換します。デフォルトではtrueです。

    lower_bool  trueを指定すると大文字のTRUE/FALSE（文字列型）を小文字のtrue/false（ブール型）に変換します。デフォルトではtrueです。

    log  trueを指定するとコンソールに「データを格納した変数名」「格納されたデータ」が出力されます。

    time  loadcsvのみ。読み込みに要する時間をミリ秒で指定。0を指定することは出来ません。

◆ [loadcsv_xmlhttp] キーイベントの削除

    || 概要

    登録したキーイベントを削除します。
    もしも独自に「$(window).on();」を登録している場合はそのイベントも削除されるのでご注意ください。

    || 指定できるパラメータ

    [loadcsv]と同じ。


◇ FAQ・既知のバグ等 ◇

-



◇ 履歴 ◇

2020/04/16  リリース
2020/04/17  バグ修正
2020/06/03  リファクタリング
